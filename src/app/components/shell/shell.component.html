<a class="skip-link" href="#main-content">Skip to main content</a>
<div class="shell">
  <header class="shell__header" role="banner">
    <div class="shell__branding">
      <span class="shell__logo" aria-hidden="true">47</span>
      <div>
        <p class="shell__title">Trump 47 Campaign Tracker</p>
        <p class="shell__subtitle">Real-time updates from across the campaign trail</p>
      </div>
    </div>

    <button
      type="button"
      class="theme-toggle"
      (click)="toggleTheme()"
      [attr.aria-pressed]="(theme$ | async) === 'dark'"
    >
      <span class="visually-hidden">Toggle dark mode</span>
      <span aria-hidden="true" class="theme-toggle__icon">
        <svg *ngIf="(theme$ | async) === 'dark'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M21 12.79A9 9 0 0 1 11.21 3 7 7 0 1 0 21 12.79z" />
        </svg>
        <svg *ngIf="(theme$ | async) !== 'dark'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="5" />
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
        </svg>
      </span>
      <span class="theme-toggle__label" aria-hidden="true">{{ (theme$ | async) === 'dark' ? 'Dark' : 'Light' }} mode</span>
    </button>
  </header>

  <nav class="shell__nav" aria-label="Primary navigation">
    <ul>
      <li>
        <a
          routerLink="/"
          routerLinkActive="is-active"
          #rla="routerLinkActive"
          [routerLinkActiveOptions]="{ exact: true }"
          [attr.aria-current]="rla.isActive ? 'page' : null"
        >
          Campaign Feed
        </a>
      </li>
      <li>
        <a href="#insights">Insights</a>
      </li>
      <li>
        <a href="#stories">Featured stories</a>
      </li>
    </ul>
  </nav>

  <main id="main-content" class="shell__main" role="main" tabindex="-1">
    <div class="shell__grid" aria-label="Campaign dashboard layout">
      <section class="shell__content" aria-labelledby="campaign-feed-heading">
        <h2 id="campaign-feed-heading" class="visually-hidden">Campaign news feed</h2>
        <router-outlet></router-outlet>
      </section>
      <app-featured-stories class="shell__featured"></app-featured-stories>
      <app-insights-sidebar class="shell__insights"></app-insights-sidebar>
    </div>
  </main>

  <footer class="shell__footer" role="contentinfo">
    <p>Built for accessibility and real-time insight into the 2024 campaign.</p>
    <a class="footer__feedback" href="mailto:feedback@trump47tracker.com">Share feedback</a>
  </footer>
</div>
