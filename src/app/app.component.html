<div class="app-shell">
  <header class="topbar">
    <div class="brand">
      <h1>Trump 47 Tracker</h1>
      <p>Campaign coverage with personalized insights</p>
    </div>

    <nav class="nav-links">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">News Feed</a>
      <a routerLink="/my-feed" routerLinkActive="active">My Feed</a>
      <a routerLink="/notifications" routerLinkActive="active">Notifications</a>
    </nav>

    <div class="auth-controls">
      <ng-container *ngIf="user$ | async as user; else signInBlock">
        <div class="user-avatar">
          <span>{{ user.fullName || user.email || 'Anonymous' }}</span>
        </div>
        <button type="button" (click)="signOut()" [disabled]="loading">Sign Out</button>
      </ng-container>
      <ng-template #signInBlock>
        <form class="sign-in-form" (ngSubmit)="signIn()">
          <input
            type="email"
            name="email"
            [(ngModel)]="email"
            placeholder="you@example.com"
            required
            [disabled]="loading"
          >
          <button type="submit" [disabled]="loading">{{ loading ? 'Signing Inâ€¦' : 'Sign In' }}</button>
        </form>
      </ng-template>
    </div>
  </header>

  <section class="message" *ngIf="message" role="status">
    {{ message }}
  </section>

  <main class="content">
    <router-outlet></router-outlet>
  </main>
</div>
